<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>缓冲运动的问题</title>
	<style>
		#div1{width:100px;height:100px;background:red;position:absolute;left:0;top:50px;}
		#div2{width:1px;height:300px;position:absolute;left:300px;top:0;background:black;}
		#div3{width:1px;height:300px;position:absolute;left:100px;top:0;background:black;}
	</style>
	<script>
	//Math.ceil()向上取整。 Math.floor()向下取整
	var timer=null;
		function startMove(iTarget){
			clearInterval(timer);
			var oDiv=document.getElementById('div1');
			timer=setInterval(function(){
				var speed =0;
				
				if(oDiv.offsetLeft<iTarget){
					speed=7;
				}
				else{
					speed=-7;
				}
				if(Math.abs(iTarget-oDiv.offsetLeft)<=7){  //Math.abs 绝对值，小于速度后，清楚定时器。让style.left=iTarget
					clearInterval(timer);
					oDiv.style.left=iTarget+'px';
				}
				else
				oDiv.style.left=oDiv.offsetLeft+speed+'px';
			},30);
		}
	</script>
</head>
<body>
<input type="button" value="到100" onclick="startMove(100)">
<input type="button" value="到300" onclick="startMove(300)">
	<div id="div1"></div>
	<div id="div2"></div>
	<div id="div3"></div>
</body>
</html>